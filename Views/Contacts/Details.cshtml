@model AddressBook.Models.Contact
@using AddressBook.Services.Interfaces
@using Microsoft.AspNetCore.Mvc.TagHelpers

<!-- Inject image service class-->
@inject IImageService ImageService

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div class="glass-cf-style darkGlass p-2">
    <h4>Contact</h4>
    <hr />
    <div class="row">
        <div class="col-12 col-lg-4">
            <div class="container">
                <div class="row">
                    @if (Model.ImageData != null)
                    {
                        Console.WriteLine("Image");
                        <img id="contactImage" class="img-fluid img-thumbnail my-2" src="@ImageService.ConvertByteArrayToFile(Model.ImageData, Model.ImageType)">
                    }
                    else
                    {
                        <img id="contactImage" class="img-fluid img-thumbnail my-2" style="max-width: 600px; max-height: 600px" src="https://cdn.icon-icons.com/icons2/233/PNG/512/Contacts_26253.png">
                    }
                </div>
                <div class="row text-center">
                    <h4 class="my-4">@Model.FullName</h4>
                </div>
                <div class="row text-center">
                    <br/>
                    <h6 class="fw-bold">Category</h6><br/>
                    @foreach (Category category in Model.Categories)
                    {
                        <span><a asp-controller="Categories" asp-action="Details" asp-route-id="@category.Id">| @category.Name |</a></span>
                    }
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-8">
            <div class="container">
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.FirstName): </span><span class="fw-light">@Html.DisplayFor(model => model.FirstName)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.LastName): </span><span class="fw-light">@Html.DisplayFor(model => model.LastName)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.BirthDate): </span><span class="fw-light">@Html.DisplayFor(model => model.BirthDate)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.Address1): </span><span class="fw-light">@Html.DisplayFor(model => model.Address1)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.Address2): </span><span class="fw-light">@Html.DisplayFor(model => model.Address2)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.City): </span><span class="fw-light">@Html.DisplayFor(model => model.City)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.State): </span><span class="fw-light">@Html.DisplayFor(model => model.State)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.ZipCode): </span><span class="fw-light">@Html.DisplayFor(model => model.ZipCode)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.Email): </span><span class="fw-light">@Html.DisplayFor(model => model.Email)</span></h4>
                <h4 class="mb-4"><span class="fw-bolder">@Html.DisplayNameFor(model => model.PhoneNumber): </span><span class="fw-light">@Html.DisplayFor(model => model.PhoneNumber)</span></h4>
            </div>
        </div>
    </div>
    

</div>

<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
